library(gapminder)
install.packages(gapminder)
install.packages("gapminder")
library(gapminder)
version
library(dplyr)
library(gapminder)
library(dplyr)
library(ggplot2)
gapminder_1952 <- gapminder %>%
filter(year == 1952)
gapminder
ggplot(gapminder_1952, aes( x = pop, y = gdpPercap, color = continent)
geom_point()
scale_x_log10("pop")
scale_y_log10("gdpPercap")
library(ggplot2)
gapminder_1952 <- gapminder %>%
filter(year == 1952)
ggplot(gapminder_1952, aes( x = pop, y = gdpPercap, color = continent) +
geom_point() +
scale_x_log10("pop") +
scale_y_log10("gdpPercap")
ggplot(gapminder_1952, aes( x = pop, y = gdpPercap, color = continent)) +
geom_point() +
scale_x_log10("pop") +
scale_y_log10("gdpPercap")
ggplot(gapminder_1952, aes( x = pop, y = gdpPercap, color = continent, size = pop)) +
geom_point() +
scale_x_log10("pop") +
scale_y_log10("gdpPercap")
update.packages()
update.packages()
update.packages()
update.packages()
update.packages()
update.packages(ask = FALSE)
update.packages(ask = FALSE)
update.packages(ask = FALSE)
install.packages(boot)
install.packages("boot")
update.packages(ask = FALSE)
install.packages("boot")
library(caret
)
library(data.table)
library(boot)
.libpaths()
libpaths()
.libpaths()
library(dplyr)
update.packages(ask = FALSE)
install.packages(c('repr', 'IRdisplay', 'evaluate', 'crayon', 'pbdZMQ', 'devtools', 'uuid', 'digest'))
install.packages(c('repr', 'IRdisplay', 'evaluate', 'crayon', 'pbdZMQ', 'devtools', 'uuid', 'digest'))
devtools::install_github('IRkernel/IRkernel')
IRkernel::installspec()
IRkernel::installspec()
IRkernel::installspec()
library(tidyverse)
library(caret)
?paralell
?parallel
?registerDoParallel
?preProcess
library("tidyverse")
library("caret")
setwd("C:/Users/Utilizador/Desktop/kaagle/titanic")
set.seed(45613)
test <- read.csv('test.csv', stringsAsFactors = FALSE)
train <- read.csv('train.csv', stringsAsFactors = FALSE)
glimpse(train)
summarise(train, Survival = sum(Survived)/nrow(train)*100)
titanic <- full_join(train, test)
glimpse(titanic)
titanicPre <- titanic %>% select(-Ticket, -Name, -Cabin, -Embarked)
pre.proc <- preProcess(titanicPre, method = "bagImpute")
titanicPre <- predict(pre.proc, titanicPre)
titanic$Age <- titanicPre$Age
apply(sapply(titanic, is.na),2,sum)
library(forcats)
titanic <- titanic %>%
mutate(Survived = factor(Survived)) %>%
mutate(Survived = fct_recode(Survived, "No" = "0", "Yes" = "1"))
titanic <- titanic %>%
mutate(Sex = factor(Sex)) %>%
mutate(Sex = fct_recode(Sex, "Female" = "female", "Male" = "male"))
titanic <- mutate(titanic, Title = str_sub(Name, str_locate(Name, ",")[ , 1] + 2, str_locate(Name, "\\.")[ , 1] - 1))
titanic %>% group_by(Title) %>%
summarise(count = n()) %>%
arrange(desc(count))
titanic <- titanic %>%
mutate(Title = factor(Title)) %>%
mutate(Title = fct_collapse(Title, "Miss" = c("Mlle", "Ms"), "Mrs" = c("Mme", "the Countess"),
"Mr" = c( "Major", "Capt", "Col", "Rev", "Don", "Jonkheer"), "Other" = c("Lady", "Dr", "Sir", "Dona")
))
titanic %>% group_by(Title) %>%
summarise(count = n()) %>%
arrange(desc(count))
titanic <- titanic %>%
mutate(Family = SibSp + Parch + 1) %>%
mutate(FamilySize = factor(ifelse(Family > 4, "Large", ifelse(Family == 1, "Single", "Small"))))
titanic[1:891,] %>% count(FamilySize)
titanic <- titanic %>%
mutate(FareGrp = factor(case_when(
between(Fare, 0, 100) ~ "0-100",
Fare > 100 ~ ">100")))
titanic[1:891,] %>% ungroup %>% count(FareGrp)
titanic <- titanic %>%
mutate(FareGrp = factor(case_when(
between(Fare, 0, 100) ~ "<=100",
Fare > 100 ~ ">100")))
titanic[1:891,] %>% ungroup %>% count(FareGrp)
titanic <- titanic %>%
mutate(Pclass = factor(Pclass))
titanic <- titanic %>%
mutate(AgeGrp = factor( case_when(
between(Age, 0, 16) ~ "young",
between(Age, 16, 50) ~ "adult",
Age > 50 ~ "old")))
titanic[1:891,] %>% count(AgeGrp)
glimpse(titanic)
titanic <- titanic %>%
mutate(Pclass = factor(Embarked))
ggplot(titanic[1:891,], aes(Embarked, fill=Survived)) +
geom_bar(position = "fill") +
ylab("Survival") +
geom_hline(yintercept = (sum(train$Survived)/nrow(train)), col = "black", lty = 2) +
ggtitle("Survival by Embarked")
titanic %>% count(Embarked)
